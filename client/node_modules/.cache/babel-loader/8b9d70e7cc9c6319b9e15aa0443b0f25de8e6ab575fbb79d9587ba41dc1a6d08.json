{"ast":null,"code":"var _jsxFileName = \"/home/tatiana-turin/projects/lab-creator/lab-creator/src/components/LabBuilder.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport { createQuestion, createMaterial } from \"../models/block\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction QuestionEditor({\n  q,\n  onQuestionChange,\n  onQuestionDelete\n}) {\n  //onChange passed down from the parent so everything stays in sync\n  const update = (field, value) => {\n    //ONCHANGE CREATES A NEW QUESTION OBJECT WITH UQPDATED FIELD  VALUE\n    onQuestionChange({\n      ...q,\n      [field]: value\n    }); //field is the placeholder for any property\n    //properties of questionBlock blockType, type, prompt, desc\n  };\n\n  //PROMPT TEXT BOX\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 border rounded mb-4 bg-white shadow\",\n    children: [/*#__PURE__*/_jsxDEV(ReactQuill, {\n      type: \"text\",\n      placeholder: \"Prompt\",\n      className: \"w-full border p-2 mb-2\",\n      value: q.prompt,\n      rows: 3,\n      onChange: value => update(\"prompt\", value)\n      // onChange={(e) => {\n      //     //dont use update because it cannot pass an object as is\n      //     update(\"prompt\", e.target.value);\n      //}}\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this), q.subQuestions && q.subQuestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-4 border-l-2 pl-2\",\n      children: q.subQuestions.map((sq, i) => /*#__PURE__*/_jsxDEV(QuestionEditor, {\n        q: sq,\n        onQuestionChange:\n        //pass the updated Sub Q from child to parent in\n        //updatedSubQ\n        updatedSubQ => {\n          const updatedSubs = q.subQuestions.map((sub, idx) => idx === i ? updatedSubQ : sub);\n          // Call parent's onQuestionChange to update the parent question\n          onQuestionChange({\n            ...q,\n            subQuestions: updatedSubs\n          });\n        },\n        onQuestionDelete: () => {\n          //filter everything but the q to delete\n          const updatedSubs = q.subQuestions.filter((_, idx) => idx !== i);\n          onQuestionChange({\n            ...q,\n            subQuestions: updatedSubs\n          });\n        }\n      }, sq.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"border p-2\",\n      value: q.type,\n      onChange: e => update(\"type\", e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"short\",\n        children: \"Short Answer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"textarea\",\n        children: \"Paragraph\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"code\",\n        children: \"Code Response\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        var _q$subQuestions;\n        const nextIndex = ((_q$subQuestions = q.subQuestions) === null || _q$subQuestions === void 0 ? void 0 : _q$subQuestions.length) || 0;\n        const nextLetter = String.fromCharCode(97 + nextIndex); //97=a\n        const newSubQ = createQuestion();\n        newSubQ.prompt = `${nextLetter}.`;\n        const updatedSubs = [...(q.subQuestions || []), newSubQ];\n        onQuestionChange({\n          ...q,\n          subQuestions: updatedSubs\n        }); //send to parent updated  q's and subQuestions\n      },\n      className: \"bg-green-600 text-white px-4 py-2 rounded\",\n      children: \"Add Sub Question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onQuestionDelete,\n      className: \"bg-red-600 text-white px-2 py-1 rounded ml-2\",\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}\n_c = QuestionEditor;\nfunction MaterialEditor({\n  block,\n  onMaterialChange,\n  onMaterialDelete\n}) {\n  _s();\n  const [image, setImage] = useState();\n  const update = (field, value) => {\n    //ONCHANGE CREATES A NEW BLOCK OBJECT WITH UPDATED FIELD AND TYPE VALUES \n    onMaterialChange({\n      ...block,\n      [field]: value\n    });\n    //text image block properties blockType, type, content\n  };\n  const addImage = base64 => {\n    onMaterialChange({\n      ...block,\n      images: [...(block.images || []), base64]\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 border rounded mb-4 bg-white shadow\",\n    children: [/*#__PURE__*/_jsxDEV(ReactQuill, {\n      placeholder: \"Paste image or write here\",\n      rows: 8,\n      className: \"w-full border p-2 font-mono mb-2\",\n      value: block.content\n      // onChange handler doesn't receive a DOM event object, gives you content value directly\n      ,\n      onChange: value => update(\"content\", value),\n      onPaste: async e => {\n        //find item from clipboard that is an image\n        const item = Array.from(e.clipboardData.items).find(i => i.type.startsWith(\"image/\"));\n        if (item) {\n          const file = item.getAsFile(); //ge tthe image file\n          const reader = new FileReader();\n          reader.onload = ev => {\n            //executes once image file has been converted to base64 data URL\n            addImage(ev.target.result);\n            //update(\"content\",ev.target.result);\n          };\n          reader.readAsDataURL(file);\n          e.preventDefault();\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }, this), block.images && block.images.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-2 flex flex-wrap gap-2\",\n      children: block.images.map((src, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n        src: src,\n        alt: `Pasted ${idx}`,\n        style: {\n          maxWidth: \"100%\"\n        }\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 p-2 border bg-gray-50\",\n      dangerouslySetInnerHTML: {\n        __html: block.content\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: onMaterialDelete,\n      className: \"bg-red-600 text-white px-2 py-1 rounded ml-2\",\n      children: \"Delete\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 9\n  }, this);\n}\n_s(MaterialEditor, \"rw6qng99rwBYv/BMRhLONeRFue4=\");\n_c2 = MaterialEditor;\nfunction LabBuilder() {\n  _s2();\n  const [blocks, setBlocks] = useState([]); //directions, questions, etc\n  const [title, setTitle] = useState(\"\");\n  const deleteBlock = id => {\n    setBlocks(blocks.filter(b => b.id !== id)); //remove block with id\n  };\n  const addMaterialBlock = () => {\n    //type can be text, or image?\n    setBlocks([...blocks, createMaterial()]);\n  };\n  const addQuestionBlock = () => {\n    setBlocks([...blocks, createQuestion()]);\n  };\n\n  //update block from child component \n  const updateBlock = (id, updated) => {\n    //replace old block with new block\n    setBlocks(blocks.map(b => b.id === id ? updated : b));\n  };\n  const moveBlock = (from, to) => {\n    if (to < 0 || to > blocks.length - 1) return;\n    const updatedBlocks = [...blocks];\n    //remove block is moving\n    const [moveBlock] = updatedBlocks.splice(from, 1);\n    //you could also do moveBlock= and then call moveBlock[0]\n    //move moveBlock to \"to\" index\n    updatedBlocks.splice(to, 0, moveBlock);\n    setBlocks(updatedBlocks);\n  };\n  const saveLab = () => {\n    const lab = {\n      title: title,\n      blocks\n    };\n    localStorage.setItem(\"labData\", JSON.stringify(lab));\n    console.log(\"Lab JSON:\", lab);\n    //alert(\"Lab saved! Check console for JSON.\");\n  };\n  const loadLab = () => {\n    const labData = localStorage.getItem(\"labData\");\n    if (labData) {\n      try {\n        const lab = JSON.parse(labData);\n        setTitle(lab.title || \"\");\n        setBlocks(lab.blocks || []);\n        console.log(\"lab loaded into blocks\");\n      } catch (e) {\n        alert(\"Failed to parse lab JSON!\");\n      }\n    } else {\n      alert(\"No saved lab found\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-3xl mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-bold mb-4\",\n      style: {\n        whiteSpace: \"pre-line\"\n      },\n      children: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      type: \"text\",\n      className: \"w-full border p-3 text-xl font-semibold mb-6\",\n      placeholder: \"Enter lab title\",\n      value: title,\n      onChange: e => setTitle(e.target.value),\n      onKeyDown: e => {\n        if (e.key === \"Enter\") {\n          e.preventDefault();\n          saveLab();\n        }\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 9\n    }, this), blocks.map((block, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 flex items-start\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col mr-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: i === 0,\n          onClick: () => moveBlock(i, i - 1),\n          className: \"bg-gray-300 text-black px-2 py-1 rounded mb-1\",\n          title: \"Move Up\",\n          children: \"\\u2191\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: i === blocks.length - 1,\n          onClick: () => moveBlock(i, i + 1),\n          className: \"bg-gray-300 text-black px-2 py-1 rounded\",\n          title: \"Move Down\",\n          children: \"\\u2193\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1\",\n        children: block.blockType === \"material\" ? /*#__PURE__*/_jsxDEV(MaterialEditor, {\n          block: block,\n          onMaterialChange: updatedBlock => updateBlock(block.id, updatedBlock),\n          onMaterialDelete: () => deleteBlock(block.id)\n        }, block.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(QuestionEditor, {\n          q: block,\n          onQuestionChange: updatedBlock => updateBlock(block.id, updatedBlock),\n          onQuestionDelete: () => deleteBlock(block.id)\n        }, block.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this)]\n    }, block.id || i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 13\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addMaterialBlock,\n      className: \"bg-green-600 text-white px-4 py-2 rounded mr-2\",\n      children: \"Add Materials\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addQuestionBlock,\n      className: \"bg-green-600 text-white px-4 py-2 rounded mr-2\",\n      children: \"\\u2795 Add Question\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: saveLab,\n      className: \"bg-blue-600 text-white px-4 py-2 rounded\",\n      children: \"\\uD83D\\uDCBE Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: loadLab,\n      className: \"bg-yellow-600 text-white px-4 py-2 rounded mr-2\",\n      children: \"\\uD83D\\uDCC2 Load\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => {\n        const lab = {\n          title,\n          blocks\n        };\n        const blob = new Blob([JSON.stringify(lab, null, 2)], {\n          type: \"application/json\"\n        });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        a.href = url;\n        a.download = \"lab.json\";\n        a.click();\n        URL.revokeObjectURL(url);\n      },\n      className: \"bg-blue-600 text-white px-4 py-2 rounded ml-2\",\n      children: \"\\u2B07\\uFE0F Export\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-8 p-6 border rounded bg-gray-100\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-bold mb-4\",\n        children: \"Lab Preview\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 337,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-semibold mb-2\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }, this), blocks.map((block, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: block.blockType === \"material\" ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [\" \", block.images && block.images.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-2 flex flex-wrap gap-2\",\n          children: block.images.map((src, idx) => /*#__PURE__*/_jsxDEV(\"img\", {\n            src: src,\n            alt: `Material ${i}`,\n            style: {\n              maxWidth: \"100%\"\n            }\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 41\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 33\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 p-2 border bg-gray-50\",\n          dangerouslySetInnerHTML: {\n            __html: block.content\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold mb-1\",\n            dangerouslySetInnerHTML: {\n              __html: block.content\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 362,\n            columnNumber: 33\n          }, this), block.subQuestions.length === 0 && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [block.type === \"short\" && /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"w-full border p-2 mb-2\",\n              placeholder: \"Your answer...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 69\n            }, this), block.type === \"textarea\" && /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"w-full border p-2 mb-2\",\n              rows: 3,\n              placeholder: \"Your answer...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 72\n            }, this), block.type === \"code\" && /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"w-full border font-mono p-2 mb-2\",\n              rows: 6,\n              placeholder: \"Your code...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 68\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 29\n        }, this), block.subQuestions && block.subQuestions.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ml-4 border-l-2 pl-2\",\n          children: block.subQuestions.map((sq, j) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold mb-1\",\n              dangerouslySetInnerHTML: {\n                __html: block.content\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 45\n            }, this), sq.type === \"short\" && /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"w-full border p-2 mb-2\",\n              placeholder: \"Your answer...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 49\n            }, this), sq.type === \"textarea\" && /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"w-full border p-2 mb-2\",\n              rows: 3,\n              placeholder: \"Your answer...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 49\n            }, this), sq.type === \"code\" && /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"w-full border font-mono p-2 mb-2\",\n              rows: 6,\n              placeholder: \"Your code...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 49\n            }, this)]\n          }, sq.id || j, true, {\n            fileName: _jsxFileName,\n            lineNumber: 376,\n            columnNumber: 41\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 33\n        }, this)]\n      }, void 0, true)\n    }, block.id || i, false, {\n      fileName: _jsxFileName,\n      lineNumber: 344,\n      columnNumber: 17\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 233,\n    columnNumber: 9\n  }, this);\n}\n_s2(LabBuilder, \"VZ3irDy/6mr7usklW78Eewmv0GQ=\");\n_c3 = LabBuilder;\nexport default LabBuilder;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"QuestionEditor\");\n$RefreshReg$(_c2, \"MaterialEditor\");\n$RefreshReg$(_c3, \"LabBuilder\");","map":{"version":3,"names":["useState","ReactMarkdown","remarkGfm","createQuestion","createMaterial","ReactQuill","jsxDEV","_jsxDEV","Fragment","_Fragment","QuestionEditor","q","onQuestionChange","onQuestionDelete","update","field","value","className","children","type","placeholder","prompt","rows","onChange","fileName","_jsxFileName","lineNumber","columnNumber","subQuestions","length","map","sq","i","updatedSubQ","updatedSubs","sub","idx","filter","_","id","e","target","onClick","_q$subQuestions","nextIndex","nextLetter","String","fromCharCode","newSubQ","_c","MaterialEditor","block","onMaterialChange","onMaterialDelete","_s","image","setImage","addImage","base64","images","content","onPaste","item","Array","from","clipboardData","items","find","startsWith","file","getAsFile","reader","FileReader","onload","ev","result","readAsDataURL","preventDefault","src","alt","style","maxWidth","dangerouslySetInnerHTML","__html","_c2","LabBuilder","_s2","blocks","setBlocks","title","setTitle","deleteBlock","b","addMaterialBlock","addQuestionBlock","updateBlock","updated","moveBlock","to","updatedBlocks","splice","saveLab","lab","localStorage","setItem","JSON","stringify","console","log","loadLab","labData","getItem","parse","alert","whiteSpace","onKeyDown","key","disabled","blockType","updatedBlock","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","click","revokeObjectURL","j","_c3","$RefreshReg$"],"sources":["/home/tatiana-turin/projects/lab-creator/lab-creator/src/components/LabBuilder.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport ReactMarkdown from \"react-markdown\";\nimport remarkGfm from \"remark-gfm\";\nimport {createQuestion, createMaterial} from \"../models/block\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\n\n\n\n\nfunction QuestionEditor({ q, onQuestionChange, onQuestionDelete}) {\n    //onChange passed down from the parent so everything stays in sync\n  const update = (field, value) => {\n    //ONCHANGE CREATES A NEW QUESTION OBJECT WITH UQPDATED FIELD  VALUE\n    onQuestionChange({ ...q, [field]: value }); //field is the placeholder for any property\n    //properties of questionBlock blockType, type, prompt, desc\n  };\n\n  //PROMPT TEXT BOX\n  return (\n    <div className=\"p-4 border rounded mb-4 bg-white shadow\">\n      <ReactQuill\n        type=\"text\"\n        placeholder=\"Prompt\"\n        className=\"w-full border p-2 mb-2\"\n        value={q.prompt}\n        rows={3}\n        onChange={(value)=>update(\"prompt\",value)}\n        // onChange={(e) => {\n        //     //dont use update because it cannot pass an object as is\n        //     update(\"prompt\", e.target.value);\n        //}}\n      />\n  \n      {/* <ReactQuill\n        placeholder=\"Description\"\n        className=\"w-full border p-2 font-mono mb-2\"\n        rows=\"3\"\n        value={q.desc}\n        onChange={(value)=>update(\"desc\",value)}\n        //onChange={(e) => update(\"desc\",e.target.value)}\n      /> */}\n\n    {/* DISPLAY SUB QUESTIONS */}\n        {q.subQuestions && q.subQuestions.length > 0 && (\n            <div className=\"ml-4 border-l-2 pl-2\">\n                {q.subQuestions.map((sq, i) => (\n                    <QuestionEditor\n                        key={sq.id}\n                        q={sq}\n                        onQuestionChange={\n                            //pass the updated Sub Q from child to parent in\n                            //updatedSubQ\n                            updatedSubQ=>{ \n                            const updatedSubs = q.subQuestions.map((sub,idx)=>\n                                idx === i ? updatedSubQ : sub\n                            );\n                             // Call parent's onQuestionChange to update the parent question\n                            onQuestionChange({...q, subQuestions:updatedSubs});\n                        }}\n                        onQuestionDelete={()=>{\n                            //filter everything but the q to delete\n                            const updatedSubs = q.subQuestions.filter((_,idx)=>idx!==i);\n                            onQuestionChange({...q,subQuestions:updatedSubs});\n                        }}                        \n                    />\n                ))}\n            </div>\n        )}\n\n      <select\n        className=\"border p-2\"\n        value={q.type}\n        onChange={(e) => update(\"type\", e.target.value)}\n      >\n        <option value=\"short\">Short Answer</option>\n        <option value=\"textarea\">Paragraph</option>\n        <option value=\"code\">Code Response</option>\n      </select>\n\n       <button\n            onClick={()=>{\n                const nextIndex = (q.subQuestions?.length || 0);\n                const nextLetter = String.fromCharCode(97+nextIndex); //97=a\n                const newSubQ = createQuestion();\n                newSubQ.prompt = `${nextLetter}.`;\n                const updatedSubs = [...(q.subQuestions || []),newSubQ];\n                onQuestionChange({...q,subQuestions: updatedSubs}); //send to parent updated  q's and subQuestions\n            }}\n            className=\"bg-green-600 text-white px-4 py-2 rounded\"\n        >\n            Add Sub Question\n        </button>\n        <button\n            onClick={onQuestionDelete}\n            className=\"bg-red-600 text-white px-2 py-1 rounded ml-2\"\n        >\n            Delete\n        </button>\n        \n    </div>\n  );\n}\n\nfunction MaterialEditor({block, onMaterialChange, onMaterialDelete}){\n    const [image, setImage] = useState();\n    const update = (field,value) =>{\n        //ONCHANGE CREATES A NEW BLOCK OBJECT WITH UPDATED FIELD AND TYPE VALUES \n        onMaterialChange({...block, [field]:value})\n        //text image block properties blockType, type, content\n    };\n\n    const addImage=(base64)=>{\n        onMaterialChange({\n            ...block,\n            images: [...(block.images||[]),base64]\n        })\n    };\n    return(\n        <div className=\"p-4 border rounded mb-4 bg-white shadow\">\n            <ReactQuill\n                placeholder=\"Paste image or write here\"\n                rows = {8}\n                className=\"w-full border p-2 font-mono mb-2\"\n                value={block.content}\n                // onChange handler doesn't receive a DOM event object, gives you content value directly\n                onChange={value=>update(\"content\",value)}\n               \n                onPaste={async (e)=>{\n                    //find item from clipboard that is an image\n                    const item = Array.from(e.clipboardData.items).find(i=>i.type.startsWith(\"image/\"));\n                    if(item){\n                        const file = item.getAsFile(); //ge tthe image file\n                        const reader = new FileReader();\n                        reader.onload =(ev)=>{ //executes once image file has been converted to base64 data URL\n                            addImage(ev.target.result);            \n                            //update(\"content\",ev.target.result);\n                        }\n                        reader.readAsDataURL(file);\n                        e.preventDefault();\n                    }\n                }}\n            />\n            {/* Render images above Markdown preview */}\n            {block.images && block.images.length > 0 && (\n                <div className=\"my-2 flex flex-wrap gap-2\">\n                    {block.images.map((src, idx) => (\n                        <img key={idx} src={src} alt={`Pasted ${idx}`} style={{maxWidth: \"100%\"}} />\n                    ))}\n                </div>\n            )}\n\n            <div className=\"mt-2 p-2 border bg-gray-50\"\n                 dangerouslySetInnerHTML={{ __html: block.content }} />\n            \n            \n       \n            <button\n            onClick={onMaterialDelete}\n            className=\"bg-red-600 text-white px-2 py-1 rounded ml-2\"\n            >\n                Delete\n            </button>\n        </div>\n    )\n}\n\nfunction LabBuilder(){\n    const [blocks, setBlocks] = useState([]); //directions, questions, etc\n    const [title, setTitle] = useState(\"\");\n\n    const deleteBlock = (id) =>{\n        setBlocks(blocks.filter(b=> b.id !== id)); //remove block with id\n    }\n\n    const addMaterialBlock = () => { //type can be text, or image?\n        setBlocks([\n            ...blocks, \n            createMaterial()\n        ]);\n    \n    }\n\n    const addQuestionBlock = () => {\n\n        setBlocks([\n        ...blocks,\n        createQuestion()\n        ]);\n    };\n\n    //update block from child component \n    const updateBlock = (id, updated) => {\n        //replace old block with new block\n        setBlocks(blocks.map((b) => (b.id === id ? updated : b)));\n    };\n\n    const moveBlock = (from, to)=>{\n        if(to<0 || to>blocks.length-1) return;\n        const updatedBlocks = [...blocks];\n        //remove block is moving\n        const [moveBlock] = updatedBlocks.splice(from,1);\n        //you could also do moveBlock= and then call moveBlock[0]\n        //move moveBlock to \"to\" index\n        updatedBlocks.splice(to,0,moveBlock);\n        setBlocks(updatedBlocks);\n    }\n\n    const saveLab = () => {\n        const lab = { title: title, blocks};\n        localStorage.setItem(\"labData\", JSON.stringify(lab));\n        console.log(\"Lab JSON:\", lab);\n        //alert(\"Lab saved! Check console for JSON.\");\n    };\n\n    const loadLab = ()=>{\n        const labData = localStorage.getItem(\"labData\");\n        if(labData){\n            try{\n                const lab = JSON.parse(labData);\n                setTitle(lab.title || \"\");\n                setBlocks(lab.blocks || []);\n                console.log(\"lab loaded into blocks\");\n            }catch(e){\n                alert(\"Failed to parse lab JSON!\");\n            }\n        }else{\n            alert(\"No saved lab found\");\n        }\n    }\n\n    return (\n        <div className=\"max-w-3xl mx-auto p-6\">\n        <h1 className=\"text-2xl font-bold mb-4\" style={{whiteSpace: \"pre-line\"}}>\n            {title}\n        </h1>\n        <textarea \n            type=\"text\"\n            className=\"w-full border p-3 text-xl font-semibold mb-6\"\n            placeholder=\"Enter lab title\"\n            value={title}\n            onChange={(e)=> setTitle(e.target.value)}\n            onKeyDown={(e)=>{\n                if(e.key=== \"Enter\"){\n                    e.preventDefault();\n                    saveLab();\n                }\n            }}\n        />\n\n    {/* DISPLAY BLOCKS */}\n        {blocks.map((block, i) => (\n            <div key={block.id || i} className=\"mb-6 flex items-start\">\n                {/* Arrow buttons on the left */}\n                <div className=\"flex flex-col mr-2\">\n                    <button\n                        disabled={i === 0}\n                        onClick={() => moveBlock(i, i - 1)}\n                        className=\"bg-gray-300 text-black px-2 py-1 rounded mb-1\"\n                        title=\"Move Up\"\n                    >\n                        ‚Üë\n                    </button>\n                    <button\n                        disabled={i === blocks.length - 1}\n                        onClick={() => moveBlock(i, i + 1)}\n                        className=\"bg-gray-300 text-black px-2 py-1 rounded\"\n                        title=\"Move Down\"\n                    >\n                        ‚Üì\n                    </button>\n                </div>\n         {/* Block editor */}\n                <div className=\"flex-1\">\n                    {block.blockType === \"material\" ? (\n                        <MaterialEditor\n                            key={block.id}\n                            block={block}\n                            onMaterialChange={(updatedBlock) => updateBlock(block.id, updatedBlock)}\n                            onMaterialDelete={() => deleteBlock(block.id)}\n                        />\n                    ) : (\n                        <QuestionEditor\n                            key={block.id}\n                            q={block}\n                            onQuestionChange={(updatedBlock) => updateBlock(block.id, updatedBlock)}\n                            onQuestionDelete={() => deleteBlock(block.id)}\n                        />\n                    )}\n                </div>\n            </div>\n        ))}\n    \n    {/* BUTTONS */}\n        <button \n            onClick={addMaterialBlock}\n            className=\"bg-green-600 text-white px-4 py-2 rounded mr-2\"\n        >\n            Add Materials\n        </button>\n        <button\n            onClick={addQuestionBlock}\n            className=\"bg-green-600 text-white px-4 py-2 rounded mr-2\"\n        >\n            ‚ûï Add Question\n        </button>\n        <button\n            onClick={saveLab}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded\"\n        >\n            üíæ Save\n        </button>\n        <button\n            onClick={loadLab}\n            className=\"bg-yellow-600 text-white px-4 py-2 rounded mr-2\"\n        >\n            üìÇ Load\n        </button>\n        <button\n            onClick={() => {\n                const lab = { title, blocks };\n                const blob = new Blob([JSON.stringify(lab, null, 2)], { type: \"application/json\" });\n                const url = URL.createObjectURL(blob);\n                const a = document.createElement(\"a\");\n                a.href = url;\n                a.download = \"lab.json\";\n                a.click();\n                URL.revokeObjectURL(url);\n            }}\n            className=\"bg-blue-600 text-white px-4 py-2 rounded ml-2\"\n        >\n            ‚¨áÔ∏è Export\n</button>\n\n\n    {/* LAB PREVIEW */}\n        <div className=\"mt-8 p-6 border rounded bg-gray-100\">\n            <h2 className=\"text-xl font-bold mb-4\">Lab Preview</h2>\n        </div>\n        <div>\n            <h3 className=\"font-semibold mb-2\">{title}</h3>\n        </div>\n            {blocks.map((block, i)=>(\n                <div key={block.id || i} className=\"mb-6\">\n                    {block.blockType === \"material\" ? (\n                        <> {/*<></> allows you to return multiple elements together*/}\n                            {/* Show images */}\n                            {block.images && block.images.length > 0 && (\n                                <div className=\"my-2 flex flex-wrap gap-2\">\n                                    {block.images.map((src, idx) => (\n                                        <img key={idx} src={src} alt={`Material ${i}`} style={{maxWidth: \"100%\"}} />\n                                    ))}\n                                </div>\n                            )}\n                            {/* Show reactQuill html  */}\n                             <div className=\"mt-2 p-2 border bg-gray-50\"\n                                dangerouslySetInnerHTML={{ __html: block.content }} />\n                        </>\n                    ) : (\n                        <>\n                            <div>\n                                <div className=\"font-semibold mb-1\" dangerouslySetInnerHTML={{ __html: block.content }} />\n                                {/* <div className=\"mb-2 text-gray-700\" dangerouslySetInnerHTML={{ __html: block.desc }} /> */}\n                                {block.subQuestions.length===0 && (\n                                    <>\n                                        {block.type === \"short\" && (<input type=\"text\" className=\"w-full border p-2 mb-2\" placeholder=\"Your answer...\" />)}\n                                        {block.type === \"textarea\" && (<textarea className=\"w-full border p-2 mb-2\" rows={3} placeholder=\"Your answer...\" />)}\n                                        {block.type === \"code\" && (<textarea className=\"w-full border font-mono p-2 mb-2\" rows={6} placeholder=\"Your code...\" />)}\n                                    </>\n                                    )\n                                }\n                            </div>\n                            {block.subQuestions && block.subQuestions.length > 0 && (\n                                <div className=\"ml-4 border-l-2 pl-2\">\n                                    {block.subQuestions.map((sq, j) => (\n                                        <div key={sq.id || j} className=\"mb-4\">\n                                            <div className=\"font-semibold mb-1\" dangerouslySetInnerHTML={{ __html: block.content }} />\n                                            {/* <div className=\"mb-2 text-gray-700\" dangerouslySetInnerHTML={{ __html: block.desc }} /> */}\n                                            {sq.type === \"short\" && (\n                                                <input type=\"text\" className=\"w-full border p-2 mb-2\" placeholder=\"Your answer...\" />\n                                            )}\n                                            {sq.type === \"textarea\" && (\n                                                <textarea className=\"w-full border p-2 mb-2\" rows={3} placeholder=\"Your answer...\" />\n                                            )}\n                                            {sq.type === \"code\" && (\n                                                <textarea className=\"w-full border font-mono p-2 mb-2\" rows={6} placeholder=\"Your code...\" />\n                                            )}\n                                        </div>\n                                    ))}\n                                </div>\n                            )}\n                        </>\n                    )}\n                </div>\n            ))}\n\n        </div>\n       \n    );\n}\n\nexport default  LabBuilder;\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}